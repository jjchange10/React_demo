# Requirements Document

## Introduction

ワインと日本酒の記録・管理・推薦アプリケーションです。ユーザーが飲んだワインや日本酒をカテゴリ別に記録し、過去の記録に基づいてホーム画面でおすすめの銘柄を提案する機能を提供します。

## Requirements

### Requirement 1

**User Story:** ユーザーとして、飲んだワインを詳細情報と共に記録したい。これにより、過去に飲んだワインの履歴を管理できる。

#### Acceptance Criteria

1. WHEN ユーザーがワイン記録画面を開く THEN システムは ワイン情報入力フォームを表示する
2. WHEN ユーザーがワイン名、産地、品種、ヴィンテージ、評価、メモを入力して保存ボタンを押す THEN システムは ワイン記録をデータベースに保存する
3. WHEN ワイン記録の保存が完了する THEN システムは 成功メッセージを表示し、記録一覧画面に遷移する
4. IF 必須項目（ワイン名、評価）が未入力の場合 THEN システムは エラーメッセージを表示し、保存を実行しない

### Requirement 2

**User Story:** ユーザーとして、飲んだ日本酒を詳細情報と共に記録したい。これにより、過去に飲んだ日本酒の履歴を管理できる。

#### Acceptance Criteria

1. WHEN ユーザーが日本酒記録画面を開く THEN システムは 日本酒情報入力フォームを表示する
2. WHEN ユーザーが銘柄名、蔵元、種類（純米、吟醸等）、産地、評価、メモを入力して保存ボタンを押す THEN システムは 日本酒記録をデータベースに保存する
3. WHEN 日本酒記録の保存が完了する THEN システムは 成功メッセージを表示し、記録一覧画面に遷移する
4. IF 必須項目（銘柄名、評価）が未入力の場合 THEN システムは エラーメッセージを表示し、保存を実行しない

### Requirement 3

**User Story:** ユーザーとして、記録したワインと日本酒をカテゴリ別に一覧表示したい。これにより、過去の記録を効率的に確認できる。

#### Acceptance Criteria

1. WHEN ユーザーが記録一覧画面を開く THEN システムは ワインと日本酒のタブを表示する
2. WHEN ユーザーがワインタブを選択する THEN システムは 記録されたワインの一覧を表示する
3. WHEN ユーザーが日本酒タブを選択する THEN システムは 記録された日本酒の一覧を表示する
4. WHEN ユーザーが一覧の項目をタップする THEN システムは その記録の詳細情報を表示する
5. IF 記録が存在しない場合 THEN システムは 「記録がありません」メッセージを表示する

### Requirement 4

**User Story:** ユーザーとして、ホーム画面でおすすめのワインや日本酒を提案してもらいたい。これにより、新しい銘柄を発見できる。

#### Acceptance Criteria

1. WHEN ユーザーがホーム画面を開く THEN システムは おすすめ一覧セクションを表示する
2. WHEN システムがおすすめを生成する THEN システムは ユーザーの過去の評価履歴を分析し、類似の特徴を持つ銘柄を推薦する
3. WHEN おすすめが表示される THEN システムは 最大5件のおすすめを表示し、各項目に銘柄名、種類、推薦理由を含める
4. WHEN ユーザーがおすすめ項目をタップする THEN システムは その銘柄の詳細情報を表示する
5. IF ユーザーの記録が3件未満の場合 THEN システムは 「もっと記録を追加してください」メッセージを表示する

### Requirement 5

**User Story:** ユーザーとして、記録した内容を編集・削除したい。これにより、間違った情報を修正できる。

#### Acceptance Criteria

1. WHEN ユーザーが記録詳細画面で編集ボタンを押す THEN システムは 編集フォームを表示する
2. WHEN ユーザーが情報を修正して保存ボタンを押す THEN システムは 更新された情報をデータベースに保存する
3. WHEN ユーザーが記録詳細画面で削除ボタンを押す THEN システムは 削除確認ダイアログを表示する
4. WHEN ユーザーが削除を確認する THEN システムは 記録をデータベースから削除し、一覧画面に戻る

### Requirement 6

**User Story:** ユーザーとして、記録に写真を追加したい。これにより、視覚的に記録を管理できる。

#### Acceptance Criteria

1. WHEN ユーザーが記録作成・編集画面で写真追加ボタンを押す THEN システムは カメラまたはギャラリーの選択肢を表示する
2. WHEN ユーザーが写真を選択する THEN システムは 選択された写真をプレビュー表示する
3. WHEN 記録が保存される THEN システムは 写真も一緒にローカルストレージに保存する
4. WHEN 記録詳細画面が表示される THEN システムは 保存された写真を表示する